<network-instances xmlns="https://github.com/beluganos/beluganos/yang/network-instance">
  <network-instance>
    <name>PE1</name>
    <config>
      <name>PE1</name>
      <type xmlns:oc-ni-types="http://openconfig.net/yang/network-instance-types">oc-ni-types:DEFAULT_INSTANCE</type>
    </config>
    <loopbacks/>
    <interfaces/>
    <mpls>
      <global>
        <config>
          <null-label xmlns:oc-mpls-types="http://openconfig.net/yang/mpls-types">oc-mpls-types:EXPLICIT</null-label>
        </config>
        <interface-attributes>
          <interface>
            <interface-id>eth1.100</interface-id>
            <config>
              <interface-id>eth1.100</interface-id>
            </config>
            <interface-ref>
              <config>
                <interface>eth1</interface>
                <subinterface>100</subinterface>
              </config>
            </interface-ref>
          </interface>
          <interface>
            <interface-id>eth2.100</interface-id>
            <config>
              <interface-id>eth2.100</interface-id>
            </config>
            <interface-ref>
              <config>
                <interface>eth2</interface>
                <subinterface>100</subinterface>
              </config>
            </interface-ref>
          </interface>
        </interface-attributes>
      </global>
      <signaling-protocols>
        <ldp>
          <global>
            <config>
              <lsr-id>10.0.1.6</lsr-id>
            </config>
            <address-families>
              <ipv4>
                <config>
                  <transport-address>10.0.1.6</transport-address>
                  <session-ka-holdtime>3600</session-ka-holdtime>
                  <label-policy>
                    <advertise>
                      <egress-explicit-null>
                        <enable>true</enable>
                      </egress-explicit-null>
                    </advertise>
                  </label-policy>
                </config>
              </ipv4>
            </address-families>
            <discovery>
              <interfaces>
                <interface>
                  <interface-id>eth1.100</interface-id>
                  <config>
                    <interface-id>eth1.100</interface-id>
                    <hello-holdtime>180</hello-holdtime>
                    <hello-interval>10</hello-interval>
                  </config>
                  <address-families>
                    <ipv4>
                      <config>
                        <enable>true</enable>
                      </config>
                    </ipv4>
                  </address-families>
                  <interface-ref>
                    <config>
                      <interface>eth1</interface>
                      <subinterface>100</subinterface>
                    </config>
                  </interface-ref>
                </interface>
                <interface>
                  <interface-id>eth2.100</interface-id>
                  <config>
                    <interface-id>eth2.100</interface-id>
                    <hello-holdtime>180</hello-holdtime>
                    <hello-interval>10</hello-interval>
                  </config>
                  <address-families>
                    <ipv4>
                      <config>
                        <enable>true</enable>
                      </config>
                    </ipv4>
                  </address-families>
                  <interface-ref>
                    <config>
                      <interface>eth2</interface>
                      <subinterface>100</subinterface>
                    </config>
                  </interface-ref>
                </interface>
                <config>
                  <hello-holdtime>180</hello-holdtime>
                  <hello-interval>10</hello-interval>
                </config>
              </interfaces>
            </discovery>
          </global>
        </ldp>
      </signaling-protocols>
    </mpls>
    <protocols>
      <protocol>
        <identifier xmlns:oc-pol-types="http://openconfig.net/yang/policy-types">oc-pol-types:OSPF</identifier>
        <name>ospfv2</name>
        <config>
          <identifier xmlns:oc-pol-types="http://openconfig.net/yang/policy-types">oc-pol-types:OSPF</identifier>
          <name>ospfv2</name>
        </config>
        <ospfv2>
          <global>
            <config>
              <router-id>10.0.1.6</router-id>
            </config>
          </global>
          <areas>
            <area>
              <identifier>0.0.0.0</identifier>
              <config>
                <identifier>0.0.0.0</identifier>
              </config>
              <interfaces>
                <interface>
                  <id>eth1.100</id>
                  <config>
                    <id>eth1.100</id>
                    <metric>100</metric>
                    <passive>false</passive>
                  </config>
                  <interface-ref>
                    <config>
                      <interface>eth1</interface>
                      <subinterface>100</subinterface>
                    </config>
                  </interface-ref>
                  <timers>
                    <config>
                      <hello-interval>40</hello-interval>
                      <dead-interval>10</dead-interval>
                    </config>
                  </timers>
                </interface>
                <interface>
                  <id>eth2.100</id>
                  <config>
                    <id>eth2.100</id>
                    <metric>200</metric>
                    <passive>false</passive>
                  </config>
                  <interface-ref>
                    <config>
                      <interface>eth2</interface>
                      <subinterface>100</subinterface>
                    </config>
                  </interface-ref>
                  <timers>
                    <config>
                      <hello-interval>40</hello-interval>
                      <dead-interval>10</dead-interval>
                    </config>
                  </timers>
                </interface>
                <interface>
                  <id>lo</id>
                  <config>
                    <id>lo</id>
                    <metric>10</metric>
                    <passive>true</passive>
                  </config>
                  <interface-ref>
                    <config>
                      <interface>lo</interface>
                      <subinterface>0</subinterface>
                    </config>
                  </interface-ref>
                  <timers>
                    <config/>
                  </timers>
                </interface>
              </interfaces>
            </area>
          </areas>
        </ospfv2>
      </protocol>
      <protocol>
        <identifier xmlns:oc-pol-types="http://openconfig.net/yang/policy-types">oc-pol-types:BGP</identifier>
        <name>BGP</name>
        <config>
          <identifier xmlns:oc-pol-types="http://openconfig.net/yang/policy-types">oc-pol-types:BGP</identifier>
          <name>BGP</name>
        </config>
        <bgp>
          <global>
            <config>
              <as>65001</as>
              <router-id>10.0.1.6</router-id>
            </config>
          </global>
          <zebra>
            <config>
              <enabled>false</enabled>
            </config>
          </zebra>
          <neighbors>
            <neighbor>
              <neighbor-address>10.0.0.100</neighbor-address>
              <config>
                <neighbor-address>10.0.0.100</neighbor-address>
                <peer-as>65001</peer-as>
              </config>
              <timers>
                <config>
                  <hold-time>3600</hold-time>
                  <keepalive-interval>180</keepalive-interval>
                </config>
              </timers>
              <transport>
                <config>
                  <local-address>10.0.1.6</local-address>
                </config>
              </transport>
              <afi-safis>
                <afi-safi>
                  <afi-safi-name xmlns:oc-bgp-types="http://openconfig.net/yang/bgp-types">oc-bgp-types:L3VPN_IPV4_UNICAST</afi-safi-name>
                  <config>
                    <afi-safi-name xmlns:oc-bgp-types="http://openconfig.net/yang/bgp-types">oc-bgp-types:L3VPN_IPV4_UNICAST</afi-safi-name>
                  </config>
                </afi-safi>
              </afi-safis>
              <apply-policy>
                <config>
                  <default-import-policy>ACCEPT_ROUTE</default-import-policy>
                  <default-export-policy>ACCEPT_ROUTE</default-export-policy>
                  <export-policy>policy-next-hop-self</export-policy>
                  <export-policy>policy-local-pref</export-policy>
                </config>
              </apply-policy>
            </neighbor>
          </neighbors>
        </bgp>
      </protocol>
    </protocols>
  </network-instance>
</network-instances>

